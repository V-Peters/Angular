<app-loader *ngIf="isLoading"></app-loader>
<div *ngIf="!isLoading" class="col-xs-6">
  <h3 *ngIf="id !== 0">Veranstaltung bearbeiten</h3>
  <h3 *ngIf="id === 0">Veranstaltung hinzufügen</h3>
  <hr>
  <div *ngIf="!meetingExists">
    Die Veranstaltung mit der Id: {{ id }} existiert leider nicht.
    <br>
    Bitte überprüfen Sie nochmal, ob Sie wirklich diese Veranstaltung bearbeiten möchten.
  </div>
  <div *ngIf="meetingExists">
    <form
    [formGroup]="meetingForm"
    (ngSubmit)="onSubmit()">
      <div class="form-group">
        <label for="name">Veranstaltungsname: </label>
        <i *ngIf="meetingForm.get('name').invalid && meetingForm.get('name').touched"> Bitte geben Sie einen Namen für die Veranstaltung ein.</i>
        <input
        type="text"
        id="name"
        formControlName="name"
        class="form-control"
        placeholder="Veranstaltungsname"
        autofocus>
      </div>
      <div class="form-group col-xs-6">
        <label for="date">Datum: </label>
        <input
          type="date"
          id="date"
          formControlName="date"
          class="form-control"
          min="{{ today }}">
      </div>
      <div class="form-group col-xs-6">
        <label for="time">Uhrzeit: </label>
        <input
          type="time"
          id="time"
          formControlName="time"
          class="form-control">
      </div>
      <div class="form-group">
        <mat-checkbox formControlName="display" labelPosition="before" color="primary">Anzeigen:</mat-checkbox>
      </div>
      <button type="submit" class="btn btn-info btn-block" [disabled]="meetingForm.invalid">
        <span *ngIf="meetingForm.valid">Veranstaltung speichern</span>
        <span *ngIf="meetingForm.invalid" class="disabled">Bitte geben Sie einen Namen für die Veranstaltung ein</span>
      </button>
    </form>
    <hr>
    <button type="button" class="btn btn-secondary col-xs-12" (click)="onBackToList()">Zurück zur Veranstaltungsliste</button>
  </div>
</div>
